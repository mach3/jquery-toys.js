/**
 * jQuery-Toys.js
 * --------------
 * Too trifling extentions for jQuery
 * 
 * @version 0.1.1 (2014/10/23)
 * @author mach3 <http://github.com/mach3>
 * @license MIT
 */
!function(a){a.extend(a.support,{scriptAsync:void 0!==document.createElement("script").async,scriptOnLoad:void 0!==document.createElement("script").onload}),a._type=function(a,b){var c,d;return c=Object.prototype.toString.call(a).match(/^\[object (\w+)\]$/),d=c?c[1]:null,void 0!==b?b===d:d},a.applyEvents=function(b,c){return c=c||"_emitter",b[c]=a(b),a.each(["on","off","trigger"],function(a,d){b[d]=function(){return this[c][d].apply(this[c],arguments),this}}),b},a.escapeHTML=function(b){return a("<i>").append(document.createTextNode(b)).html()},a.escapeRegExp=function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},a.format=function(){var b,c,d;return b=Array.prototype.slice.call(arguments),c="boolean"===a.type(b[b.length-1])?b.pop():!1,d=b.shift().replace(/%s/g,function(){return b.length?b.shift():""}),c?a(d):d},a.require=function(b,c){var d,e,f,g;return d=a.Deferred(),b="array"!==a.type(b)?[b]:b,f=b.length,a._scriptstack_=a._scriptstack_||{},e=function(){var b=(new Date).getTime();return a._scriptstack_[b]=[],a._scriptstack_[b]}(),g=function(b){("load"!==b.type&&"loaded"!==this.readyState||!(f-=1))&&(!!e.length&&a.each(e,function(a,b){b.appendTo("head")}),d.resolve())},a.each(b,function(b,d){var f=a("<script>");f.on(a.support.scriptOnLoad?"load":"readystatechange",g),c?a.support.scriptAsync?f.prop("async",!1).appendTo("head"):e.push(f):f.prop("async",!0).appendTo("head"),f.attr("src",d)}),d.promise()},a.loadImage=function(b){var c=new Image,d=a.Deferred();return c.onload=function(){d.resolve(this)},c.src=b,d.promise()},a.random=function(a,b){return a+Math.floor(Math.random()*(b-a+1))},a.randomFrom=function(b){return b[a.random(0,b.length-1)]},a.rebase=function(b,c){var d;switch(a.type(c)){case"array":break;case"string":c=[c];break;case"regexp":var d=c;c=[],a.each(b,function(a){d.test(a)&&c.push(a)})}return a.each(c,function(c,d){b[d]=a.proxy(b[d],b)}),b},a.render=function(b,c){var d,e="";return d=function(b,c){return b.replace(/(\{{2,3})(\w+)\}{2,3}/g,function(b,d,e){var f=c[e]||"";return 2===d.length?a.escapeHTML(f):f})},c="array"===a.type(c)?c:[c],a.each(c,function(a,c){e+=d(b,c)}),e},a.scrollTo=function(b,c,d,e,f){var g="number"===a.type(b)?b:a(b).offset().top;return g=void 0===f?g:g+f,c=void 0===c?500:c,d=d||"swing",e=e||a.noop,a("html, body").animate({scrollTop:g},c,d,e)},a.times=function(a,b){for(var c=0;a>c;c+=1)b(c)},a.fn.anchorTo=function(b){var c,d;return c=a.extend({easing:"swing",duration:500,complete:a.noop,offset:0},b),d=function(b){var d;(d=this.href.match(/#([\w\-]+)$/))&&(b.preventDefault(),a.scrollTo(d[0],c.duration,c.easing,c.complete,c.offset))},this.on("click",d),this},a.fn.render=function(b){return a("<i>").html(a.render(this.html(),b)).children()},a.fn.serializeObject=function(){var b={};return a.each(this.serializeArray(),function(c,d){return void 0===b[d.name]?b[d.name]=d.value:("array"!==a.type(b[d.name])&&(b[d.name]=[b[d.name]]),void b[d.name].push(d.value))}),b},a.fn.swapImage=function(){var b,c;return b=a.extend({suffix:"-hover",keyHover:"_swapHover",keyDefault:"_swapDefault"}),c=function(a){this.src="mouseenter"===a.type?this[b.keyHover]:this[b.keyDefault]},this.each(function(){var d=a(this);"IMG"===this.nodeName&&(this[b.keyDefault]=this.src,this[b.keyHover]=d.data("swap")||function(a){return a.replace(/\.\w+$/,function(a){return b.suffix+a})}(this.src),a.loadImage(this[b.keyHover]).done(function(){d.hover(c,c)}))}),this},a.fn.togglable=function(b){return b=b||"checked",this.on("change",function(){a("input[name="+this.name+"]").each(function(){a(this).toggleClass(b,this.checked)})}),this}}(jQuery,this);