/**
 * jQuery-Toys.js
 * --------------
 * Too trifling extentions for jQuery
 * 
 * @version 0.1.2 (2014/11/17)
 * @author mach3 <http://github.com/mach3>
 * @license MIT
 */
!function(a){a.extend(a.support,{scriptAsync:void 0!==document.createElement("script").async,scriptOnLoad:void 0===document.createElement("script").onreadystatechange}),a._type=function(a,b){var c,d;return c=Object.prototype.toString.call(a).match(/^\[object (\w+)\]$/),d=c?c[1]:null,void 0!==b?b===d:d},a.applyConfig=function(b,c){var d=a.extend({defaults:"defaults",options:"options",eventType:"change"},c);return b[d.options]=b[d.options]||{},d.defaults in b&&(b[d.options]=a.extend(!0,b[d.options],b[d.defaults])),b.config=function(){var b,c,e,f=this;return c=arguments,b=a.type(c[0]),e=this[d.options],"string"===b?c.length<2?e[c[0]]:e[c[0]]===c[1]?this:(e[c[0]]=c[1],"trigger"in this&&"on"in this&&this.trigger(d.eventType,{key:c[0],value:c[1]}),this):"object"===b?(a.each(c[0],function(a,b){f.config(a,b)}),this):"undefined"===b?e:this},b},a.applyEvents=function(b,c){return c=c||"_emitter",b[c]=a(b),a.each(["on","off","trigger"],function(a,d){b[d]=function(){return this[c][d].apply(this[c],arguments),this}}),b},a.escapeHTML=function(b){return a("<i>").append(document.createTextNode(b)).html()},a.escapeRegExp=function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},a.format=function(){var b,c,d;return b=Array.prototype.slice.call(arguments),c="boolean"===a.type(b[b.length-1])?b.pop():!1,d=b.shift().replace(/%s/g,function(){return b.length?b.shift():""}),c?a(d):d},a.FORMAT_DATE_MONTHS=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],a.FORMAT_DATE_MONTHS_FULL=["January","February","March","April","May","June","July","August","September","October","November","December"],a.FORMAT_DATE_DAYS=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],a.FORMAT_DATE_DAYS_FULL=["Sunday","Monday","Friday","Wednesday","Thursday","Friday","Saturday"],a.FORMAT_DATE_AMPM=["am","pm"],a.formatDate=function(b,c){var d,e,f;return b=b instanceof Date?b:new Date(b),f=[],d={y:b.getFullYear(),m:b.getMonth(),d:b.getDate(),day:b.getDay(),hour:b.getHours(),min:b.getMinutes(),sec:b.getSeconds()},e=["[y]{2,4}","[m]{1,4}","[d]{1,2}","[h]{1,2}","[H]{1,2}","[M]{1,2}","[s]{1,2}","[D]{1,2}","[a]{1}"],c.replace(/\[([\s\S]+?)\]/g,function(a,b){return f.push(b),"%%%"}).replace(new RegExp(a.format("(%s)",e.join("|")),"g"),function(b){switch(b){case"yyyy":return d.y;case"yy":case"yyy":return d.y.toString().substr(2);case"mmm":return a.FORMAT_DATE_MONTHS[d.m];case"mmmm":return a.FORMAT_DATE_MONTHS_FULL[d.m];case"mm":return a.zerofill(d.m+1,2);case"m":return d.m+1;case"dd":return a.zerofill(d.d,2);case"d":return d.d;case"hh":return a.zerofill(d.hour,2);case"h":return d.hour;case"HH":return a.zerofill(d.hour%12,2);case"H":return d.hour%12;case"MM":return a.zerofill(d.min,2);case"M":return d.min;case"ss":return a.zerofill(d.sec,2);case"s":return d.sec;case"D":return a.FORMAT_DATE_DAYS[d.day];case"DD":return a.FORMAT_DATE_DAYS_FULL[d.day];case"a":return a.FORMAT_DATE_AMPM[d.hour<12?0:1]}return""}).replace(/%%%/g,function(){return f.length?f.shift():""})},a.formatNumber=function(a){return a.toString().replace(/([0-9]+?)(?=(?:[0-9]{3})+$)/g,"$1,")},a.loadImage=function(b){var c=new Image,d=a.Deferred();return c.onload=function(){d.resolve(this)},c.onerror=function(){d.reject(this)},c.src=b,d.promise()},a.parseURL=function(a){var b=document.createElement("a");return b.href=a,{hash:b.hash,host:b.host,hostname:b.hostname,href:b.href,origin:b.origin,pathname:b.pathname,port:b.port,protocol:b.protocol}},a.random=function(a,b){return a+Math.floor(Math.random()*(b-a+1))},a.randomFrom=function(b){return b[a.random(0,b.length-1)]},a.rebase=function(b,c){var d;switch(a.type(c)){case"array":break;case"string":c=[c];break;case"regexp":var d=c;c=[],a.each(b,function(a){d.test(a)&&c.push(a)})}return a.each(c,function(c,d){b[d]=a.proxy(b[d],b)}),b},a.render=function(b,c){var d,e="";return d=function(b,c){return b.replace(/(\{{2,3})(\w+)\}{2,3}/g,function(b,d,e){var f=c[e]||"";return 2===d.length?a.escapeHTML(f):f})},c="array"===a.type(c)?c:[c],a.each(c,function(a,c){e+=d(b,c)}),e},a.require=function(b,c){var d,e,f;return d=a.Deferred(),b="array"!==a.type(b)?[b]:b,e=b.length,c=c||!1,f=function(a){if(a&&"load"===a.type||"loaded"===this.readyState){if(e-=1)return;d.resolve()}},a.each(b,function(b,d){var e=a("<script>").on(a.support.scriptOnLoad?"load":"readystatechange",f).prop("async",c).appendTo("body");e.attr("src",d)}),d.promise()},a.scrollTo=function(b,c,d,e,f){var g="number"===a.type(b)?b:a(b).offset().top;return g=void 0===f?g:g+f,c=void 0===c?500:c,d=d||"swing",e=e||a.noop,a("html, body").animate({scrollTop:g},c,d,e)},a.times=function(a,b){for(var c=0;a>c;c+=1)b(c)},a.zerofill=function(a,b){var c;if(a=a.toString(),c=b-a.length)for(;c--;)a="0"+a;return a},a.fn.anchorTo=function(b){var c,d;return c=a.extend({easing:"swing",duration:500,complete:a.noop,offset:0},b),d=function(b){var d;(d=this.href.match(/#([\w\-]+)$/))&&(b.preventDefault(),a.scrollTo(d[0],c.duration,c.easing,c.complete,c.offset))},this.on("click",d),this},a.fn.render=function(b){return a("<i>").html(a.render(this.html(),b)).children()},a.fn.serializeObject=function(){var b={};return a.each(this.serializeArray(),function(c,d){return void 0===b[d.name]?b[d.name]=d.value:("array"!==a.type(b[d.name])&&(b[d.name]=[b[d.name]]),void b[d.name].push(d.value))}),b},a.fn.swapImage=function(){var b,c;return b=a.extend({suffix:"-hover",keyHover:"_swapHover",keyDefault:"_swapDefault"}),c=function(a){this.src="mouseenter"===a.type?this[b.keyHover]:this[b.keyDefault]},this.each(function(){var d=a(this);"IMG"===this.nodeName&&(this[b.keyDefault]=this.src,this[b.keyHover]=d.data("swap")||function(a){return a.replace(/\.\w+$/,function(a){return b.suffix+a})}(this.src),a.loadImage(this[b.keyHover]).done(function(){d.hover(c,c)}))}),this},a.fn.togglable=function(b){return b=b||"checked",this.on("change",function(){a("input[name="+this.name+"]").each(function(){a(this).toggleClass(b,this.checked)})}),this}}(jQuery,this);